// Generated by CoffeeScript 1.7.1
(function(App) {
  return $(function() {
    var $$, gameSeasonSwitch, highlightButton, playerPositionSwitch, players, positions, renderButton, seasons, variables;
    $$ = Controls;
    Plotter.appControls = [playerPositionSwitch = $$("#input-group--pp-switch"), gameSeasonSwitch = $$("#input-group--gs-switch"), positions = $$("#input-group--positions"), players = $$("#input-group--players"), variables = $$("#input-group--variables"), seasons = $$("#input-group--seasons"), renderButton = $$("#control-button--render"), highlightButton = $$("#control-button--highlight")];
    Plotter.controls = $$(Plotter.appControls);
    Plotter.controls.formattedValues = function() {
      var ppVal, ret, valid;
      ret = {};
      valid = true;
      if ((ppVal = playerPositionSwitch.value().first())) {
        if (ppVal === "positions") {
          ret.ppVal = positions.value().valueArray();
        } else if (ppVal === "players") {
          ret.ppVal = players.value().valueArray();
        }
      } else {
        valid = false;
      }
      if (seasons.value().length) {
        ret.seasons = seasons.value().valueArray();
      } else {
        valid = false;
      }
      if (variables.value().length) {
        ret.vars = variables.value().idValuePair();
      } else {
        valid = false;
      }
      if (!(ret.gsVal = gameSeasonSwitch.value().first())) {
        valid = false;
      }
      console.log(ret);
      if (!valid) {
        return valid;
      } else {
        return ret;
      }
    };
    renderButton.on("click", function(event) {
      return App.trigger("requestRender", Plotter.controls.formattedValues());
    });
    highlightButton.disabled(true);
    $("#input-group--players").hide();
    $("#input-group--positions").hide();
    playerPositionSwitch.on("change", function(event) {
      var value;
      value = this.value().first();
      if (value === "players") {
        $("#input-group--players").slideDown();
        return $("#input-group--positions").slideUp();
      } else {
        $("#input-group--positions").slideDown();
        return $("#input-group--players").slideUp();
      }
    });
    return Plotter.controls.on("change", function(event) {
      if (Plotter.controls.formattedValues()) {
        return renderButton.disabled(false);
      }
    });
  });
})(window.Plotter);
