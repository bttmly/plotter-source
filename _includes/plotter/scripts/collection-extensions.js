// Generated by CoffeeScript 1.7.1
(function() {
  var compare,
    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  compare = function(val1, comp, val2) {
    switch (comp) {
      case "===":
        return val1 === val2;
      case "!==":
        return val1 !== val2;
      case ">":
        return val1 > val2;
      case ">=":
        return val1 >= val2;
      case "<":
        return val1 < val2;
      case "<=":
        return val1 <= val2;
    }
  };

  Collection.prototype.whereArray = function(prop, vals) {
    var element, _i, _len, _ref;
    switch (Plotter.util.typeCheck(arr)) {
      case "string":
        vals = [vals];
        break;
      case "array":
        break;
      default:
        throw new Error("Collection::propCheckArr requires a string or array as its second argument.");
    }
    for (_i = 0, _len = this.length; _i < _len; _i++) {
      element = this[_i];
      if (element[prop]) {
        if (_ref = element[prop], __indexOf.call(vals, _ref) >= 0) {
          results.push(element);
        }
      }
    }
    return new Collection(results);
  };

  Collection.prototype.multiWhereArray = function(opts) {
    var args, opt, results, _i, _len, _results;
    results = this;
    _results = [];
    for (_i = 0, _len = opts.length; _i < _len; _i++) {
      opt = opts[_i];
      args = [opt.prop, opt.vals, returnCollection];
      _results.push(results = Collection.prototype.whereArray.apply(results, args));
    }
    return _results;
  };

  Collection.prototype.dynamicFilter = function(opts) {
    var opt, results, _i, _len;
    results = this;
    for (_i = 0, _len = opts.length; _i < _len; _i++) {
      opt = opts[_i];
      results = results.filter(function(el) {
        return compare(el[opt.prop], opt.comp, opt.val);
      });
    }
    return Collection(results);
  };

}).call(this);
